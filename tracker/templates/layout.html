<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js h-100" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>{{ page_title }}{% if organisation %} – {{ organisation.name }}{% endif %} | Aid Transparency Tracker</title>
    <link rel="icon" type="image/png" href="{{ asset_url_for('img/favicon.ico') }}">
    <meta name="description" content="{% block meta_description %}{% endblock %}">
    <meta name="author" content="{% block meta_author %}{% endblock %}">

    {{ stylesheet_tag('main_css') | safe }}
  </head>
  <body data-spy="scroll" class="d-flex flex-column h-100" data-target="#sidebar" data-offset="0" id="{% if request.url_rule %}{{ request.url_rule.endpoint.replace('.', '-') }}-page{% endif %}">
    {% block body %}

    <header>
    {% with form=form  %}
    {% include "_nav.html" %}
    {% endwith %}
    </header>

    <main role="main" class="flex-shrink-0">
      {% block masthead %}
      <div id="masthead">
        <h1>{{ page_title }}{% if organisation %} – {{ organisation.name }}{% endif %}</h1>
      </div>
      {% endblock %}

      {%- with messages = get_flashed_messages(with_categories=true) -%}
          {% for category, message in messages %}
          <div class="alert alert-{{ category }}" role="alert">
            {{ message }}
          </div>
          {% endfor %}
      {%- endwith %}


      {% block content %}{% endblock %}
    </main>

    {% include "_footer.html" %}

    <!-- JavaScript at the bottom for fast page loading -->
    {{ javascript_tag('main_js') | safe }}
    {% block js %}{% endblock %}
    <!-- end scripts -->
    {% endblock %}

  </body>
</html>
